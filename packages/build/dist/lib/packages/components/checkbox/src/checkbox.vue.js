"use strict";const e=require("vue"),V=require("../../../utils/create.js"),p=require("../../../utils/utils.js"),f=require("../../../utils/is.js"),z=require("./checkbox.js"),q=["disabled","checked"],C=e.defineComponent({name:"tl-checkbox",__name:"checkbox",props:{size:{default:"m"},defaultChecked:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean},value:{}},emits:["change","update:checked"],setup(k,{emit:y}){const n=V.createNamespace("checkbox"),t=k,v=y,r=e.ref(),a=e.inject(z.checkboxGroupContextKey,void 0),i=e.computed(()=>!!a),c=e.ref(t.defaultChecked),s=e.computed(()=>{const l=t.checked??c.value;return i.value?a==null?void 0:a.calcVal:l}),o=e.computed(()=>i.value&&f.isArray(s.value)?s.value.includes(t.value):p.toBoolean(s.value)),d=e.computed(()=>(a==null?void 0:a.disabled)||t.disabled||!c.value&&(a==null?void 0:a.isMax)),b=e.computed(()=>(a==null?void 0:a.size)||t.size);function g(l){const{checked:u}=l.target;c.value=u;let h;if(i.value&&f.isArray(s.value)){const m=new Set(s.value);u?m.add(t.value??!0):m.delete(t.value??!0),h=Array.from(m),a==null||a.handleChange(h)}else v("update:checked",u),v("change",u)}e.watch(()=>t.checked,l=>{c.value=f.isUndefined(l)?!1:p.toBoolean(l),r.value&&(r.value.checked=c.value)});const B=l=>{l.stopPropagation()};return(l,u)=>(e.openBlock(),e.createElementBlock("label",{class:e.normalizeClass([e.unref(n).b(),e.unref(n).is("disabled",d.value??""),e.unref(n).m(b.value)])},[e.createElementVNode("input",{ref_key:"checkboxRef",ref:r,type:"checkbox",class:e.normalizeClass([e.unref(n).e("target")]),disabled:d.value,checked:o.value,onChange:g,onClick:B},null,42,q),e.createElementVNode("div",{class:e.normalizeClass([e.unref(n).e("wrap"),e.unref(n).m("common"),o.value&&!l.indeterminate&&e.unref(n).m("active"),!o.value&&!d.value&&!l.indeterminate&&e.unref(n).m("normal"),l.indeterminate&&e.unref(n).m("indeterminate"),e.unref(n).is("disabled",d.value??"")])},null,2),e.createElementVNode("div",null,[e.renderSlot(l.$slots,"default",{},()=>[e.createElementVNode("span",null,e.toDisplayString(l.value),1)])])],2))}});module.exports=C;
